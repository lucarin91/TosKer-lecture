\usepackage[english]{babel}
\usepackage[utf8]{inputenc}
\usepackage{float} % per posizionare le figure float opzione H
\usepackage{amsfonts}
\usepackage{amsmath}
\usepackage{amsthm}
\usepackage{amssymb}
\usepackage[ruled,linesnumbered]{algorithm2e} % per gli algoritmi in pseudocodice
\usepackage{listings} % per inserire il codice in C
\usepackage{longtable}
\usepackage{booktabs}
\usepackage{graphicx} % to include images
\usepackage{xspace}
\usepackage{hyperref}
\usepackage[]{xcolor}
% \usepackage{rotating}
\usepackage{dirtree}
\usepackage[hang,small,sc]{caption}

% Codici %
\renewcommand\lstlistingname{Listing}
\renewcommand\lstlistlistingname{Listings}
% END Codici %

% ALIAS %
\newcommand{\dt}{TosKer\xspace}

%TOSKER MODULES
\newcommand{\mdeployer}{\emph{Orchestrator}\xspace}
\newcommand{\mparser}{\emph{TOSCA utility}\xspace}
\newcommand{\msoftware}{\emph{Software manager}\xspace}
\newcommand{\mcontainer}{\emph{Container manager}\xspace}
\newcommand{\mvolume}{\emph{Volume manager}\xspace}
\newcommand{\mdocker}{\emph{Docker interface}\xspace}
\newcommand{\mmanager}{\emph{Managers}\xspace}

%TOSKER TYPES
\newcommand{\tpersistent}{\emph{tosker.\-nodes.\-Container.\-Executable}\xspace}
\newcommand{\tcontainer}{\emph{tosker.\-nodes.\-Container}\xspace}
\newcommand{\tvolume}{\emph{tosker.\-nodes.\-Volume}\xspace}
\newcommand{\timage}{\emph{tosker.\-artifacts.\-Image}\xspace}
\newcommand{\tdockerfile}{\emph{tosker.\-artifacts.\-Dockerfile}\xspace}
\newcommand{\tsoftware}{\emph{tosker.\-nodes.\-Software}\xspace}
% END ALIAS %

% Definition of the colours
\definecolor{codegreen}{rgb}{0,0.6,0}
\definecolor{codegray}{rgb}{0.5,0.5,0.5}
\definecolor{codepurple}{rgb}{0.58,0,0.82}
\definecolor{backcolour}{rgb}{0.95,0.95,0.92}
\definecolor{deepblue}{rgb}{0,0,0.5}
\definecolor{deepred}{rgb}{0.6,0,0}
\definecolor{deepgreen}{rgb}{0,0.5,0}

% Default fixed font does not support bold face
\DeclareFixedFont{\ttb}{T1}{txtt}{bx}{n}{10} % for bold
\DeclareFixedFont{\ttm}{T1}{txtt}{m}{n}{10}  % for normal

% LISTINGS YAML %
\newcommand\YAMLcolonstyle{\color{red}\footnotesize\mdseries}
\newcommand\YAMLkeystyle{\color{black}\footnotesize\bfseries}
\newcommand\YAMLvaluestyle{\color{blue}\footnotesize\mdseries}

\makeatletter

% here is a macro expanding to the name of the language
% (handy if you decide to change it further down the road)
\newcommand\language@yaml{yaml}

\expandafter\expandafter\expandafter\lstdefinelanguage
\expandafter{\language@yaml}
{
  keywords={true,false,null,y,n},
  keywordstyle=\color{darkgray}\bfseries,
  basicstyle=\YAMLkeystyle,                                 % assuming a key comes first
  sensitive=false,
  comment=[l]{\#},
  morecomment=[s]{/*}{*/},
  commentstyle=\color{purple}\ttfamily,
  stringstyle=\YAMLvaluestyle\ttfamily,
  moredelim=[l][\color{orange}]{\&},
  moredelim=[l][\color{magenta}]{*},
  moredelim=**[il][\YAMLcolonstyle{:}\YAMLvaluestyle]{:},   % switch to value style at :
  morestring=[b]',
  morestring=[b]",
  literate =    {---}{{\ProcessThreeDashes}}3
                {>}{{\textcolor{red}\textgreater}}1
                {|}{{\textcolor{red}\textbar}}1
                {\ -\ }{{\mdseries\ -\ }}3,
}

% switch to key style at EOL
\lst@AddToHook{EveryLine}{\ifx\lst@language\language@yaml\YAMLkeystyle\fi}
\makeatother

\newcommand\ProcessThreeDashes{\llap{\color{cyan}\mdseries-{-}-}}

\lstdefinestyle{TOSCA}{
  captionpos=t,
  % abovecaptionskip=0.8\baselineskip,
  belowcaptionskip=0.8\baselineskip,
  keepspaces=true,
  numbersep=5pt,
  xleftmargin=\parindent,
  language=yaml,
  % basicstyle=\ttm,
  basicstyle=\footnotesize\ttfamily,
  commentstyle=\itshape\color{purple!40!black},
  numberstyle=\tiny\color{codegray},
  numbers=left,
  frame=tb,
}
%% END LISTINGS YAML %%


%% LISTING PYTHON %%
\lstdefinestyle{mystyle}{
    % % backgroundcolor=\color{backcolour},
    % commentstyle=\color{codegreen},
    % keywordstyle=\ttb\color{deepblue},
    % numberstyle=\tiny\color{codegray},
    % stringstyle=\color{codepurple},
    % basicstyle=\ttm,
    % breakatwhitespace=false,
    % breaklines=true,
    % keepspaces=true,
    % numbers=left,
    % numbersep=5pt,
    % showspaces=false,
    % showstringspaces=false,
    % showtabs=false,
    % tabsize=2,
    % language=Python
    captionpos=t,
    belowcaptionskip=0.8\baselineskip,
    % abovecaptionskip=1\baselineskip,
    breaklines=true,
    language=Python,
    basicstyle=\ttm,
    otherkeywords={self},             % Add keywords here
    keywordstyle=\ttb\color{deepblue},
    emph={MyClass,__init__},          % Custom highlighting
    emphstyle=\ttb\color{deepred},    % Custom highlighting style
    stringstyle=\color{deepgreen},
    commentstyle=\color{codegray},
    numberstyle=\tiny\color{codegray},
    numbers=left,
    frame=tb,                         % Any extra options here
    showstringspaces=false            %
}

%% END LISTING PYTHON %%
